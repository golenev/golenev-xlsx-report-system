✅ UI User Stories
UI-1. Добавление новой записи

UI-пользователь может добавить новую запись, указав уникальный Test ID.
Остальные поля являются неуникальными и опциональными.

При добавлении записи:

если Test ID отсутствует — сохранение запрещено;

если Test ID уже существует — UI показывает предупреждение «Test ID уже существует» и отклоняет сохранение;

система автоматически устанавливает текущую дату в поле Ready Date в формате ДД.ММ.ГГГГ, независимо от того, заполнил пользователь это поле или нет.

UI-2. Проверка уникальности Test ID при редактировании

UI-пользователь не может изменить Test ID существующей записи на уже используемый.

Если указанный Test ID уже существует в другой записи, UI показывает предупреждение «Test ID уже существует» и отклоняет сохранение.

При редактировании Ready Date дата не перезаписывается автоматически, так как автоматическое заполнение применяется только при создании.

UI-3. Удаление записи

UI-пользователь может удалить любую существующую запись.

UI-4. Автосортировка списка

UI отображает записи, отсортированные по Test ID по возрастанию.
Список пересортировывается автоматически после добавления, изменения или удаления записи.

UI-5. Просмотр покрытия автоматизации

UI-пользователь может просматривать метрику покрытия автоматизированных тестов:

количество всех тестов;

количество автоматизированных;

процент покрытия.

UI-6. Просмотр списка тестов, участвовавших в последних регресс-ранах

UI-пользователь может видеть список тест-кейсов, которые участвовали в последних пяти регресс-ранах.

Каждая RUN-колонка содержит дату регресса (из заголовка)

Для каждого теста отображается его участие по RUN-колонкам.

UI-7. Просмотр статусов тестов в предыдущих регресс-ранах

UI-пользователь может просматривать статусы выполнения тестов (Pass/Fail/Skipped) в разрезе последних пяти регресс-ранов.

Статусы выводятся для колонок Run #1 … Run #5.

✅ API User Stories
API-1. Загрузка тест-кейсов (одиночных и батчами)

API-клиент может отправлять одну запись или список записей для добавления или обновления в системе.

API-2. Обязательные поля

При добавлении или обновлении записи через API обязательными являются:

testId

category

shortTitle

generalStatus

scenario

Если любое из обязательных полей отсутствует, API возвращает:

400 Bad Request

сообщение: «Отсутствует обязательное поле: <имя поля>»

API-3. Поведение при существующем Test ID

API-клиент может отправить запись с существующим Test ID.
В этом случае происходит перезапись (overwrite) существующей записи.

Ошибка не возвращается.

Ready Date не перезаписывается, так как автоматическое заполнение применяется только при создании.

API-4. Автоматическое заполнение Ready Date

При добавлении новой записи через API (когда Test ID ещё не существует):

система автоматически устанавливает Ready Date равной текущей дате в формате ДД.ММ.ГГГГ.

При обновлении записи (overwrite):

Ready Date не изменяется автоматически.

API-5. Поведение при IsRegress = true

Если API-клиент отправляет параметр IsRegress=true, система должна:

Определить RUN-колонку для записи:

сначала выбрать первую колонку без установленной даты;

если все имеют дату — взять колонку с самой старой датой.

В выбранной RUN-колонке:

обновить дату в заголовке на текущую;

записать статус теста (status), полученный от API.

API-6. Ограничение истории регрессов

Система хранит данные только о последних пяти регресс-ранах.
При заполнении всех пяти колонок новая запись вытесняет самый старый прогон.
